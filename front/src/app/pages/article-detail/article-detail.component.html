<div class="article-detail-page">
  <button mat-icon-button class="back-btn" (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>

  <article *ngIf="article">
    <h1>{{ article.title }}</h1>
    <div style="height: 24px;"></div>
    <p class="meta">
      {{ article.createdAt | date:'short' }}
      <span class="sep"></span>
      {{ article.authorName }}
      <span class="sep"></span>
      {{ article.topicName }}
    </p>
    <div style="height: 24px;"></div>
    <div class="content">{{ article.content }}</div>

    <!-- TRAIT HORIZONTAL PLUS ÉPAIS -->
    <hr class="separator" />
  </article>

  <section class="comments">
    <h2>Commentaires</h2>
    <div style="height: 14px;"></div>

    <div class="comments-container">
      <!-- On crée un wrapper qui contient le nom DEHORS de la bulle -->
      <div *ngFor="let c of comments" class="comment-wrapper">
        <span class="author-name">{{ c.authorName }}</span>
        <div class="comment-bubble">
          <div class="comment-content">{{ c.content }}</div>
        </div>
      </div>
    </div>

    <div style="height: 24px;"></div>

    <form [formGroup]="commentForm" (ngSubmit)="submitComment()" class="comment-form">
      <mat-form-field appearance="fill">
        <mat-label>Écrivez ici votre commentaire</mat-label>
        <textarea matInput formControlName="content" rows="3"></textarea>
      </mat-form-field>
      <button mat-icon-button type="submit" [disabled]="commentForm.invalid">
        <mat-icon class="send-icon">send</mat-icon>
      </button>
    </form>
  </section>

  <div class="error" *ngIf="error">{{ error }}</div>
</div>
