<!-- navbar.component.html -->
<mat-toolbar color="primary" class="mat-toolbar">
  <!-- Logo cliquable → redirige soit vers "/" (non connecté) soit vers "/articles" (connecté) -->
  <img
    src="/assets/logo_p6.png"
    alt="MDD"
    class="logo"
    (click)="goHome()"
  />

  <span class="spacer"></span>

  <!-- Menu Desktop (visible seulement au‐dessus de 768px) -->
  <nav class="desktop-menu">
    <button mat-button routerLink="/articles">Articles</button>
    <button mat-button routerLink="/topics">Thèmes</button>
    <button mat-button class="logout" (click)="logout()">Se déconnecter</button>
    <button mat-icon-button routerLink="/me" class="user-btn" aria-label="Profil">
      <mat-icon>person</mat-icon>
    </button>
  </nav>

  <!-- Bouton burger (visible seulement sous 768px) -->
  <button
    mat-icon-button
    class="mobile-menu"
    (click)="drawer.toggle()"
    aria-label="Menu"
  >
    <mat-icon>menu</mat-icon>
  </button>
</mat-toolbar>

<!-- Drawer / Sidebar (se place immédiatement après la toolbar dans le template) -->
<mat-drawer-container class="navbar-drawer-container" autosize>
  <!-- 1er enfant = le drawer lui‐même -->
  <mat-drawer
    #drawer
    mode="over"
    position="end"
    class="drawer-content"
  >
    <button mat-list-item routerLink="/articles" (click)="drawer.close()">
      Articles
    </button>
    <button mat-list-item routerLink="/topics" (click)="drawer.close()">
      Thèmes
    </button>
    <button mat-list-item class="logout" (click)="logout(); drawer.close()">
      Se déconnecter
    </button>
    <button
      mat-icon-button
      routerLink="/me"
      class="user-btn"
      (click)="drawer.close()"
      aria-label="Profil"
    >
      <mat-icon>person</mat-icon>
    </button>
  </mat-drawer>

  <!-- 2ᵉ enfant = un placeholder vide (obligatoire sinon le drawer ne s’accroche nulle part) -->
  <div class="drawer-placeholder"></div>
</mat-drawer-container>
